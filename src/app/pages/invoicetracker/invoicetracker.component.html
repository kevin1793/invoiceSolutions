<style>
  .pageWrapper{
    margin: 0 auto;
    color:white;
    justify-content: center;
    padding-bottom: 200px;
    min-height: 100vh;
  }
  .toolbar{
    background:#333;
    padding:20px 10px;
  }

  .toolbar span{
    padding-left:10px;
  }
  .content{
    margin: 0 auto;
    text-align: center;
  }
  .homeTitle{
    padding:100px 0px;
    font-size:60px;
    text-shadow: #333 3px 3px 3px;
  }
  .homeSubtitle{
    font-size: 20px;
    padding-bottom: 10px;
    text-shadow: #333 3px 3px 3px;
  }
  .inputCont{
    display: block;
    padding:10px;
  }
  .inputCont input{
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    width: 250px;
    box-shadow: #333 2px 2px 2px;
  }
  .loginBtn{
    border: none;
    background-color: #1d1d1d;
    color: white;
    margin-top:30px;
    border-radius: 5px;
    padding: 10px 20px;
    box-shadow: #333 2px 2px 2px;
    cursor: pointer;
  }
  .mainCont{
    max-width: 1400px;
    margin: 0 auto;
    width: 100%;
    position: relative;
  }
  .pageTitle{
    padding-top:100px;
    padding-bottom:20px;
    font-size: 60px;;
  }
  .listHeaderCont{
    display: flex;
    justify-content: space-around;
    padding:10px 20px;
    background-color: white;
    border-radius: 5px;
    min-width: 50px;
    color:#1976d2;
    font-weight: bold;
    text-align: center;
  }
  .listItemCont{
    justify-content: space-around;
    padding:10px 20px;
    padding-top:12px;
    padding-bottom:8px;
    font-weight: bold;
    display: flex;
    /* border-bottom: 1px solid white; */
    text-align: center;
  }
  .headerItem, .listItem{
    text-align: center;
    
    max-width: 400px;
    /* min-width: 200px; */
  }
  .listItemText{
    line-height: 25px;;
  }
  .actionItems{
    display: flex;
    text-align: center;
    justify-content: space-evenly;
  }
  .addInvoice{
    background:green;
    color:white;
    padding: 20px 20px;
    width: auto;
    border-radius: 5px;
    border:none;
    margin-bottom:20px;
    /* font-weight: bold;; */
  }
  .addInvoiceCont{
    padding:20px;
    padding-top:25px;
    background: #4e7df8;
    /* box-shadow: #333 2px 2px 6px; */
    margin-bottom: 30px;
    box-shadow: 2px 2px 2px #222;

    border-radius: 5px;
  }
  .addInvoiceInputBox{
    display: flex;
  }
  .addInvoiceInputBox input{
    border:none;
    padding: 10px;
    margin: 10px;
    border-radius: 5px;
    width: auto;
  }
  .addInvoiceInputItem{
    width: auto;
  }
  .addInvoiceInputItem label{
    margin-left: 10px;
  }
  .modalBox{
    background-color: white;
    padding:20px;
    position: fixed;
    top:50%;
    /* height: 400px;
    width: 400px; */
    box-shadow: 2px 2px 2px #222;
    border:none;
    border-radius: 5px;
  }
  .modalTitle{
    color: black;
    padding-bottom: 30px;;
  }
</style>
<!-- Toolbar -->
<div class="pageWrapper">
  <app-navbar></app-navbar>
  <app-sidemenu   [dashboardData]="dashboardData"></app-sidemenu>
  <!-- MAIN CONTENT -->
  <div class="mainCont">
    <div *ngIf='showModal' class="modalBox"  [formGroup]='paidItem'>
      <div class="modalTitle">
        Set Invoice paid Date
      </div>
      <input type="date" formControlName='paidDate'>
      <div style="margin-top:30px;">
        <button (click)='setInvoicePaidDate()' [disabled]="paidItem.invalid" style="margin-right: 20px;" class="greenBtn">Update</button>
        <button (click)="clearPaid();showModal = !showModal" class="redBtn">Cancel</button>
      </div>
    </div>
    <div class="pageTitle">
      Invoices
    </div>
    <div style="display:flex;">
      <button style="margin-right: 15px;" class="greenBtn width200 mb20" (click)="createInvoice()">
        Create Full Invoice<br>(Hourly)
      </button>
      <button style="margin-right: 15px;" class="greenBtn width200 mb20" (click)="createInvoicePerLoad()">
        Create Full Invoice<br>(Per Load)
      </button>
      <button  *ngIf='!showAddInvoiceBox' class="greenBtn width200 mb20" (click)="showAddInvoiceBox = !showAddInvoiceBox">
        Add Invoice<br>(Quick)
      </button>
      <div *ngIf="cachedData" style="background:white;border-radius:5px;height: 35px; width:50px;text-align: center;padding-top:5px;margin-left: auto; box-shadow: #222 2px 2px 2px; cursor:pointer;">
        <img (click)="refreshClicked();" style="height:30px;width: auto;" src='../../../assets/images/refresh.png'>
        <!-- <span (click)="refreshClicked();"  style="height:30px;width: auto;color:black;"  class="fa fa-refresh fa-2x"></span> -->
      </div>
    </div>
    <div class="addInvoiceCont" *ngIf='showAddInvoiceBox'>
      <form (ngSubmit)="onSubmit()" class="addInvoiceInputBox" [formGroup]='invoiceItem'>
        <div class="addInvoiceInputItem">
          <label>Invoice Number</label>
          <input type='text' formControlName='invoiceNumber' placeholder="Invoice Number">
        </div>
        <div class="addInvoiceInputItem"><label>Invoice Date</label>
          <input type='date' name='invoiceDate' placeholder="Invoice Date" formControlName='invoiceDate'>
        </div>
        <div class="addInvoiceInputItem"><label>Billed To</label>
          <input type='text' formControlName='billedTo' placeholder="Billed To">
        </div>
        <div class="addInvoiceInputItem"><label>Total Billed</label>
          <input type='number' formControlName='totalBilled' placeholder="Total Billed">
        </div>
        <div class="addInvoiceInputItem"><label>Paid Date</label>
          <input type='date' formControlName='paidDate' placeholder="Paid Date">
        </div>
      </form>
      <div>
        <button (click)="addItem()" [disabled]=invoiceItem.invalid class="greenBtn margin10  width100">Add</button>
        <button (click)="showAddInvoiceBox = !showAddInvoiceBox" class="redBtn margin10 width100">Cancel</button>
      </div>
    </div>
    <div class="listHeaderCont2">
      <div class="headerItem" style="width:150px">Invoice #</div>
      <div class="headerItem">Invoice Date</div>
      <div class="headerItem"  style="width:310px;">Billed To</div>
      <div class="headerItem">Total Billed</div>
      <div class="headerItem">Paid Date</div>
      <div class="headerItem">Invoice Paid</div>
      <div class="headerItem"  style="width:300px;">Actions</div>
    </div>
    <div *ngFor="let invoice of invoices">
      <div class="listItemCont">
        <div class="listItem listItemText"  style="width:150px">{{invoice.invoiceNumber}}</div>
        <div class="listItem listItemText">{{invoice.invoiceDate | date: 'mediumDate' }}</div>
        <div class="listItem listItemText"  style="width:310px;">{{invoice.billedTo}}</div>
        <div class="listItem listItemText">{{invoice.totalBilled | currency}}</div>
        <div class="listItem  listItemText">{{invoice.paidDate?(invoice.paidDate | date: 'mediumDate'):'-'  }}</div>
        <div class="listItem">
          <div *ngIf='invoice.paidDate'  style='background:#edf9F2; border-radius: 5px;padding:4px;color:#2f916c;font-size: 13px;font-weight: 800;' >{{invoice.paidDate?'PAID':'UNPAID'}}</div>
          <div *ngIf='!invoice.paidDate' style='background:#ffe7ef; border-radius: 5px;padding:4px;color:rgb(131, 44, 44);font-size: 13px;font-weight: 800;' >{{invoice.paidDate?'PAID':'UNPAID'}}</div>
        </div>
        <div  class="listItem actionItems" style="width:300px;">
          <div class="actionBtn" *ngIf='!invoice.paidDate' (click)='editPaidDate(invoice)'  style='background:orange;'>$</div>
          <div class="actionBtn" *ngIf='invoice.paidDate' style='width: 40px;'></div>
          <div class="actionBtn" (click)='deleteInvoice(invoice)' style='background:red;'>-</div>
          <div class="actionBtn" *ngIf='invoice.invoiceData' (click)='downloadInvoice(invoice.invoiceData)' class="fa fa-download actionBtn" style='background:white;'></div>
          <div class="actionBtn" *ngIf='!invoice.invoiceData'></div>
          <div class="actionBtn" *ngIf='invoice.invoiceData' (click)='editInvoice(invoice)' class="fa fa-edit actionBtn" style='background:white;'></div>
          <div class="actionBtn" *ngIf='!invoice.invoiceData'  style='width: 40px;'></div>
        </div>
      </div>
    </div>
  </div>
</div>
